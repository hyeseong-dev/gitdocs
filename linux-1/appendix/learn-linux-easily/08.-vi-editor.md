# 08. vi Editor

## 08. vi 편집기 

## 되돌아 보며.. 

## 학습을 시작하기 전에 

## vi 편집기로 텍스트 파일 만들기

![](../../../.gitbook/assets/image%20%28746%29.png)

![](../../../.gitbook/assets/image%20%28777%29.png)

![](../../../.gitbook/assets/image%20%28771%29.png)

```text
김과장 :vi 편집기로 텍스트 파일을 만드는 방법 알려주세요. 

나박사 : X-window 터미널에서 “vi”를 입력하고 ‘엔터’키를 누르면 vi 편집기를 실행할 수 있습니다.

나박사 : vi 편집기의 초기 화면입니다. 페도라 코어 5에서는 vi 편집기의 개량판인 Vim이 기본으로 
         설치되어 있으며, Vim은 vi가 제공하는 기본 기능 외에도, 실행 취소 기능, 특정 단어를 특정
         색으로 표현하는 신텍스 컬러링 등의 기능을 제공합니다. 

나잘난 : 좌측의 파란색 물결 모양은 뭔가요?

나박사 : 틸드(tilde,~)라고 하는데요, 그 행에 어떠한 문자도 입력되지 않았다는 것을 표시합니다.

나박사 : vi 편집기는 명령 모드에서 시작합니다. 명령 모드에서는 커서 이동, 텍스트 조작 등의 
         작업이 가능하며, 실제로 문자를 입력하기 위해서는 삽입 모드로 들어가야 합니다. 

나박사 : 명령 모드에서 ‘i’키를 누르면 삽입 모드로 들어가며, 좌측 하단에 끼워넣기 표시가 
         나타납니다.

나박사 : 삽입 모드에서는 키보드로 타이핑한 문자가 그대로 입력됩니다. 
김과장 : 이동이 가능한가요?
나박사 : 네, 화살표키로 커서를 이동할 수도 있으며, 백스페이스 키를 사용하여 입력된 문자를 
         삭제할 수도 있습니다. 문자가 입력된 행에는 파란색 틸드가 나타나지 않는 것을 알 수 
         있습니다.

나박사 : 삽입 모드에서 ‘ESC’키를 누르면 다시 명령 모드로 돌아가며, 화면 좌측 하단의 끼워 넣기
         표시는 사라집니다.

나박사 : 명령 모드에서 “:w 파일이름”을 입력하고 ‘엔터’키를 누르면 텍스트를 파일에 저장할 수 
         있습니다. 여기서는 “sample.txt” 파일에 저장하도록 하겠습니다.

나박사 : 텍스트가 성공적으로 파일에 저장되면, 화면 하단에 파일의 이름, 행 및 문자의 수가 
         표시됩니다. 방금 작성한 텍스트는 총 3행이며 1100 문자로 구성되어 있음을 알 수 있습니다. 

나잘난 : 새로운 이라는 글씨는 뭐죠?

나박사 : 텍스트가 새로 만들어진 파일에 저장되었음을 의미해요.

김과장 : 편집기를 빠져나갈때는 어떻게 해야 하나요?

나박사 : 명령 모드에서 “:q”를 입력하고 ‘엔터’키를 누르면 vi 편집기를 빠져나갈 수 있습니다.

```

##  vi 편집기 명령어

**1. vi 실행하기**

| **명령어**  | **동작**  |
| :--- | :--- |
| vi file  | file을 연다  |
| vi file1 file2 | file1 과 file2 를 차례로 연다  |
| view file  | file을 읽기 모드로 연다  |
| vi -R file  | file을 읽기 모드로 연다  |
| vi + file | file을 열때 커서가 file 본문의 마지막 행에 위치한다.  |
| vi +n file  | file을 열어 n행에 위치한다.  |
| vi -r file | 손상된 파일 회복 |

**2. 입력모드 전환 명령어**

| **명령어**  | **동작**  |
| :--- | :--- |
| i  | 커서 있는데서 입력모드 전환  |
| I | 커서 왼쪽, 행의 처음에 몬자 삽입  |
| a  | 커서 있는 줄 끝에서 입력모드 전환  |
| A | 커서 오른쪽, 행의 끝에 문자 삽입  |
| o  | 커서 있는 줄 아래에 빈 줄 삽입  |
| O  | 커서 있는 줄 위에 빈 줄을 삽입  |
| R  | 덮어쓰기 모드로 전환  |

**3. 커서의 이동**

| **명령어**  | **동작**  |
| :--- | :--- |
| ^, 0  | 줄의 처음으로 이동  |
| $  | 줄의 끝으로 이동  |
| H  | 화면 맨 위로 이동  |
| M | 화면의 중간으로 이동  |
| L  | 화면 맨 아래로 이동  |
| w  | 다음 단어 끝으로 커서 이동  |
| e | 다음 단어 앞으로 커서 이동 |
| b   | 이전 단어로 이동  |
| shift + ↑  | 한 페이지 앞으로 이동  |
| shift + ↓ | 한 페이지 뒤로 이동  |
| 3l , 3G | 현재 커서 위치한 행에서 3번째 행으로 이동  |
| Ctrl + i | 한 화면 위로 이동  |
| Ctrl + b | 한 화면 아래로 이동  |
| Ctrl + d | 반 화면 위로 이동  |
| Ctrl + u | 반 화면 아래로 이동  |
| Ctrl + e | 한 줄씩 위로 이동  |
| Ctrl + y | 한 줄씩 아래로 이동  |

**4. 삭제**

| **명령어**  | **동작**  |
| :--- | :--- |
| x  | 한 문자 삭제  |
| 5x | 커서가 있는 위치부터 5개의 문자를 삭제  |
| d + ↑  | 커서있는 줄, 윗줄 2줄 삭제  |
| d + ↓  | 커서잇는 줄, 아래줄 2줄 삭제  |
| dw  | 한 단어 삭제  |
| dd  | 한 줄 삭제  |
| 5dd | 커서가 있는 라인부터 5개의 라인 삭제  |
| db | 커서의 위치에서 거꾸로 한 단어 삭제  |
| D  | 한줄 내에서 커서있는 뒤 모두 삭제  |
| u  | 바로 전에 수행한 명령을 취소  |
| :5,10ㅇ | 5~10번째 행 삭제  |

**5. 복사와 붙여넣기**

| **명령어** | **동작** |
| :--- | :--- |
| yy | 현재 줄을 버퍼로 복사  |
| p  | 버퍼에 있는 내용을 커서 뒤에 삽입  |
| P | 버퍼에 있는 내용을 커서 앞에 삽입  |
| 3y  | 현재 줄에서부터 아래로 3줄 복사  |
| :5, 10y | 5~10줄을 버퍼로 복사  |
| :30pu | 30행에 버퍼 내용을 삽입  |
| d  | 현재 커서가 위치해 있는 단어 복사  |
| 3yy | 현재 행을 기준으로 3번째 행까지 n행 복사  |

**6. 문자열 찾기**

| **명령어** | **동작** |
| :--- | :--- |
| /name | name 문자열 찾기  |
| n | 다음 name으로 이동 |
| N | n과 같으며 역방향으로 이동  |

**7. 문자열 대체**

| **명령어**  | **동작**  |
| :--- | :--- |
| :s/str/rep | 현재 행의 str을 rep로 대체 |
| :l,.s/str/rep/  | 1부터 현재 행의 str을 rep로 대체  |
| :%s/str/rep/g  | 파일 전체 str을 rep로 전부 대체  |
| :.$/aaa/bbb | 커서의 위치로부터 파일의 끝까지 있는 모든 aaa를 bbb로 대체  |

**8. 파일 저장 및 불러오기**

| **명령어**  | **동작**  |
| :--- | :--- |
| :w  | 지정된 파일에 저장  |
| :wq, :x, ZZ  | 지정된 파일에 저장하고 vi를 종료  |
| :w php.ini  | php.ini 파일에 저장  |
|  :q | 저장하지 않고 종료  |
| :q! | 저장하지 않고 강제 종료  |
| :wq php.ini  | php.ini에 저장하고 vi를 종료  |
| :r php.ini  | php.ini의 내용을 현재 커서가 있는데로 불러온다.  |
| :e php.ini  | 현재의 화면을 지우고 새로운 파일 php.ini를 불러온다.  |
| :5,10 w php.ini  | 5~10 줄까지의 내용을 php.ini에 저장 |

**9. 기타**

| **명령어**  | **동작**  |
| :--- | :--- |
| :set nu | 행 번호 보여주기  |
| :set nonu  | 행 번호 보여주기 취소  |
|  . | 바로 전에 실행한 명령어 재 실행  |
|  Ctrl + l | 불필요한 화면 정리후 다시 표시  |

## 다음 목적지 

![](../../../.gitbook/assets/image%20%28753%29.png)

